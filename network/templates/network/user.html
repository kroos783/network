{% extends "network/layout.html" %} 
{% load static %} 
{% block body %} 
<h3>User : {{ user.username }}</h3>
member since : {{ user.date_joined }}
<div>
<div id="follower">Follower : {{ follower }}</div>
<div id="followed">Followed : {{ followed }}</div>
</div>
{% if request.user.is_authenticated and request.user.username != user.username %}
<div id="followunfollow">
    {% if follow.follow %}
    <button class="btn btn btn-primary m-3 ml-4" id="buttonFollow" onclick="followFunction('{{user.username}}')">Unfollow</button>
    {% else %}
    <button class="btn btn btn-primary m-3 ml-4" id="buttonFollow" onclick="followFunction('{{user.username}}')">Follow</button>
    {% endif %}
</div>
{% else %}
<div id="followunfollow">
    <button disabled class="btn btn btn-primary m-3 ml-4" id="buttonFollow" onclick="followFunction('{{user.username}}')">Follow</button>
</div>
{% if not request.user.is_authenticated %}
<p>To follow a user, you need to be <a href="{% url 'login' %}">log in</a> or <a href="{% url 'register' %}">create an account</a>.</p>
{% endif %}
{% endif %}


{% for post in posts %}
<div id="posts_view">
  <div class="owner"> From : <a href="{% url 'userPage' post.user %}"><strong>{{post.user}}</strong></a></div>
  <div class="body"> Message : <strong>{{post.body}}</strong></div>
  <img src="https://img.icons8.com/external-icongeek26-linear-colour-icongeek26/25/000000/external-like-donation-and-charity-icongeek26-linear-colour-icongeek26.png"/>
  <img src="https://img.icons8.com/external-icongeek26-outline-gradient-icongeek26/25/000000/external-like-donation-and-charity-icongeek26-outline-gradient-icongeek26.png"/>
  <div class="timestamp">{{post.timestamp}}</div>
</div>
{% endfor %}

<div>

  <nav aria-label="Page navigation example">
    <ul class="pagination step-links">
      {% if posts.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page=1" aria-label="First">
            <span aria-hidden="true">&laquo; First</span>
          </a>
        </li>
        <li class="page-item">
          <a class="page-link" href="?page={{ posts.previous_page_number }}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
      {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#" aria-label="First">
            <span aria-hidden="true">&laquo; First</span>
          </a>
        </li>
        <li class="page-item disabled">
          <a class="page-link" href="#" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
      {% endif %}

      
      <span class="current">
        Page {{ posts.number }} of {{ posts.paginator.num_pages }}.
      </span>
      

      {% if posts.has_next %}
      <li class="page-item">
        <a class="page-link" href="?page={{ posts.next_page_number }}" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
      <li class="page-item">
        <a class="page-link" href="?page={{ posts.paginator.num_pages }}" aria-label="Last">
          <span aria-hidden="true">Last &raquo;</span>
        </a>
      </li>
      {% else %}
      <li  class="page-item disabled">
        <a class="page-link" href="#" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
      <li  class="page-item disabled">
        <a class="page-link" href="#" aria-label="Last">
          <span aria-hidden="true">Last &raquo;</span>
        </a>
      </li>
      {% endif %}
    </ul>
  </nav>

</div>



{% endblock %} {% block script %}
<script src="{% static 'network/user.js' %}"></script>
<script
  src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"
  type="text/javascript"
></script>
{% endblock %}
